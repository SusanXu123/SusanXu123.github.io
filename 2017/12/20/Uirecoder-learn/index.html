<!DOCTYPE html><html><head><meta charset="UTF-8"><title>基于 Ui Recoder 录制一份前端自动化测试用例</title><link rel="stylesheet" href="http://obfnm2kw5.bkt.clouddn.com/normalize.css"><link rel="stylesheet" href="/css/hexo-theme-adoubi.css"><link rel="icon" href="/images/favicon.ico"></head><body><div class="header"><div class="header__title"><a href="/"><figure class="header__title__image"></figure></a></div><div class="header__archive"><a href="/archives"><figure class="header__archive__image"></figure><span class="header__archive__title">archive</span></a></div><div class="header__about"><a href="/about"><figure class="header__about__image"></figure><span class="header__about__title">about</span></a></div><div class="header__github"><a href="https://github.com/shinux" target="_blank"><figure class="header__github__image"></figure><span class="header__github__title">github</span></a></div><div class="header__feed"><a href="/atom.xml"><figure class="header__feed__image"></figure><span class="header__feed__title">feed</span></a></div><div class="header__notes"></div></div><div class="content"><div class="post-item"></div><h2 class="post-title-wrapper"><p class="post-title">基于 Ui Recoder 录制一份前端自动化测试用例</p></h2><div class="post-date"><time datetime="2017-12-20T05:49:21.000Z">2017-12-20</time></div><div class="post-content"><p>中文文档：<a href="https://github.com/alibaba/uirecorder/blob/master/README_zh-cn.md" target="_blank" rel="noopener">https://github.com/alibaba/uirecorder/blob/master/README_zh-cn.md</a><br>中文使用手册：<a href="https://github.com/alibaba/uirecorder/blob/master/doc/zh-cn/pc-standard.md" target="_blank" rel="noopener">https://github.com/alibaba/uirecorder/blob/master/doc/zh-cn/pc-standard.md</a></p>
<h3 id="1-安装相关依赖"><a href="#1-安装相关依赖" class="headerlink" title="1. 安装相关依赖"></a>1. 安装相关依赖</h3><h5 id="1-安装-NodeJs-版本号-gt-v7-x"><a href="#1-安装-NodeJs-版本号-gt-v7-x" class="headerlink" title="1. 安装 NodeJs (版本号 &gt;= v7.x)"></a>1. 安装 NodeJs (版本号 &gt;= v7.x)</h5><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Brew install node</div></pre></td></tr></table></figure>
<h5 id="2-安装-chrome"><a href="#2-安装-chrome" class="headerlink" title="2. 安装 chrome"></a>2. 安装 chrome</h5><p><a href="https://www.google.com/chrome/" target="_blank" rel="noopener">https://www.google.com/chrome/</a></p>
<h5 id="3-使用-img-diff的话需要安装graphicsmagick"><a href="#3-使用-img-diff的话需要安装graphicsmagick" class="headerlink" title="3. 使用 img diff的话需要安装graphicsmagick"></a>3. 使用 img diff的话需要安装graphicsmagick</h5><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">brew install graphicsmagick</div></pre></td></tr></table></figure>
<h5 id="4-安装-UI-Recorder-和-mocha-最好用cnpm-因为npm安装chromedriver会超时"><a href="#4-安装-UI-Recorder-和-mocha-最好用cnpm-因为npm安装chromedriver会超时" class="headerlink" title="4. 安装 UI Recorder 和 mocha(最好用cnpm,因为npm安装chromedriver会超时)"></a>4. 安装 UI Recorder 和 mocha(最好用cnpm,因为npm安装chromedriver会超时)</h5><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">cnpm install uirecorder mocha -g</div></pre></td></tr></table></figure>
<h3 id="2-Pc录制"><a href="#2-Pc录制" class="headerlink" title="2. Pc录制"></a>2. Pc录制</h3><h5 id="1-初始化测试工程"><a href="#1-初始化测试工程" class="headerlink" title="1. 初始化测试工程"></a>1. 初始化测试工程</h5><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">Mkdir <span class="built_in">test</span> //创建文件夹</div><div class="line">uirecorder init</div></pre></td></tr></table></figure>
<p>初始化过程中会有一些配置问题，一路回车即可</p>
<h5 id="2-开始录制测试用例"><a href="#2-开始录制测试用例" class="headerlink" title="2. 开始录制测试用例"></a>2. 开始录制测试用例</h5><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">uirecorder start</div></pre></td></tr></table></figure>
<h5 id="3-生成测试代码"><a href="#3-生成测试代码" class="headerlink" title="3. 生成测试代码"></a>3. 生成测试代码</h5><p>录制完成后会在当面目录下的sample/下生成test.spec.js文件</p>
<h5 id="4-启动WebDriver服务器"><a href="#4-启动WebDriver服务器" class="headerlink" title="4. 启动WebDriver服务器"></a>4. 启动WebDriver服务器</h5><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Npm run server</div></pre></td></tr></table></figure>
<h5 id="5-运行测试用例"><a href="#5-运行测试用例" class="headerlink" title="5. 运行测试用例"></a>5. 运行测试用例</h5><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Npm run singletest</div></pre></td></tr></table></figure>
<h5 id="6-获得测试报告和单步截图"><a href="#6-获得测试报告和单步截图" class="headerlink" title="6. 获得测试报告和单步截图"></a>6. 获得测试报告和单步截图</h5><p>./reports/index.html<br>./reports/index.xml (JUnit)<br>./reports/index.json<br>./screenshots/</p>
</div></div><div class="footer"><div class="footer-copyright">Theme By <a href="https://github.com/shinux/hexo-theme-adoubi">Adoubi</a> , Powered By Hexo.</div></div></body></html>